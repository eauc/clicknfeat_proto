<div>
  <strong>Model Charge<br /></strong>
  <table style="border-collapse:collapse;">
    <tr>
      <td colspan="2">
        Max Dist. :
        <input style="
               width:100%;
               height:35px;
               "
               type="number"
               ng-model="game.models[game.selection[0]].state.charge_max"
               ng-keydown="stopKeyPropagation($event)"
               ng-keypress="stopKeyPropagation($event)"
               />
      </td>
    </tr>
    <tr>
      <td ng-click="command_sub='melee'">
        <button style="
                width: 50px;
                height: 50px;
                align:center;
                "
                ng-style="{
                'background-color': command_sub==='melee' ? '#0F0' : none
                }"
                >Melee<br />&#8594;</button>
      </td>
      <td ng-show="command_sub==='melee'">
        <button title="('M')"
                style="
                width: 50px;
                height: 50px;
                align:center;
                "
                ng-click="sendKey('M', $event)"
                >
          0.5" Melee
        </button>
      </td>
      <td ng-show="
          command_sub==='area' &&
          game.selection.length === 1 &&
          game.models[game.selection[0]].info.type==='wardude'
          ">
        <button title="(Shift+'C')"
                style="
                width: 50px;
                height: 50px;
                align:center;
                "
                ng-click="sendKey('Shift C', $event)">Ctrl Area</button>
      </td>
    </tr>
    <tr>
      <td ng-click="command_sub='area'">
        <button style="
                width: 50px;
                height: 50px;
                align:center;
                "
                ng-style="{
                'background-color': command_sub==='area' ? '#0F0' : none
                }"
                >Area<br />&#8594;</button>
      </td>
      <td ng-show="command_sub==='melee'">
        <button title="('R')"
                style="
                width: 50px;
                height: 50px;
                align:center;
                "
                ng-click="sendKey('R', $event)"
                >
          2" Reach
        </button>
      </td>
      <td ng-show="command_sub==='area'">
        <button style="
                width: 50px;
                height: 50px;
                align:center;
                "
                title="(Alt + {{model_selected_area>9 ? 'Shift + ' : ''}}'{{model_selected_area%10}}')"
          ng-click="sendKey('Alt '+(model_selected_area>9 ? 'Shift ':'')+(model_selected_area%10), $event)">
          {{model_selected_area}}" Area
        </button>
      </td>
    </tr>
    <tr ng-show="command_sub==='area'">
      <td colspan="2">
        Area Size :
        <form style="display:inline;margin:0px;padding:0px;"
              ng-submit="sendKey('Alt '+(model_selected_area>9 ? 'Shift ':'')+(model_selected_area%10), $event)">
          <input style="
                 width: 100%;
                 height: 35px;
                 "
                 type="number"
                 ng-model="model_selected_area"
                 ng-keydown="stopKeyPropagation($event)"
                 ng-keypress="stopKeyPropagation($event)"
                 required="required"
                 />
        </form>
      </td>
    </tr>
    <tr>
      <td ng-click="command_sub=''">
        <button style="
                width: 50px;
                height: 50px;
                align:center;
                "
                title="('I')"
                ng-click="sendKey('I', $event)">Show Image</button>
      </td>
      <td ng-show="command_sub==='melee'">
        <button title="('S')"
                style="
                width: 50px;
                height: 50px;
                align:center;
                "
                ng-click="sendKey('S', $event)"
                >
          4" Strike
        </button>
      </td>
    </tr>
    <tr>
      <td ng-click="command_sub=''">
        <button title="(Alt+'R')"
                style="
                width: 50px;
                height: 50px;
                align:center;
                "
                ng-click="sendKey('Alt R', $event)">
          Reset Show
        </button>
      </td>
    </tr>
  </table>
</div>
